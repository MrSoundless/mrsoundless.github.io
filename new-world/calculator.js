var furnishingXp = [100,
    115,
    130,
    145,
    160,
    175,
    190,
    205,
    220,
    235,
    250,
    265,
    280,
    295,
    310,
    325,
    340,
    355,
    370,
    385,
    400,
    415,
    430,
    445,
    460,
    475,
    490,
    505,
    520,
    535,
    550,
    565,
    580,
    595,
    610,
    625,
    640,
    655,
    670,
    685,
    700,
    715,
    730,
    745,
    760,
    775,
    790,
    805,
    820,
    835,
    1200,
    1280,
    1360,
    1440,
    1520,
    1600,
    1680,
    1760,
    1840,
    1920,
    2000,
    2080,
    2160,
    2240,
    2320,
    2400,
    2480,
    2560,
    2640,
    2720,
    2800,
    2880,
    2960,
    3040,
    3120,
    3200,
    3280,
    3360,
    3440,
    3520,
    3600,
    3680,
    3760,
    3840,
    3920,
    4000,
    4080,
    4160,
    4240,
    4320,
    4400,
    4480,
    4560,
    4640,
    4720,
    4800,
    4880,
    4960,
    5040,
    5120,
    9600,
    10080,
    10560,
    11040,
    11520,
    12000,
    12480,
    12960,
    13440,
    13920,
    14400,
    14880,
    15360,
    15840,
    16320,
    16800,
    17280,
    17760,
    18240,
    18720,
    19200,
    19680,
    20160,
    20640,
    21120,
    21600,
    22080,
    22560,
    23040,
    23520,
    24000,
    24480,
    24960,
    25440,
    25920,
    26400,
    26880,
    27360,
    27840,
    28320,
    28800,
    29280,
    29760,
    30240,
    30720,
    31200,
    31680,
    32160,
    32640,
    33120,
    70400,
    72960,
    75520,
    78080,
    80640,
    83200,
    85760,
    88320,
    90880,
    93440,
    96000,
    98560,
    101120,
    103680,
    106240,
    108800,
    111360,
    113920,
    116480,
    119040,
    121600,
    124160,
    126720,
    129280,
    131840,
    134400,
    136960,
    139520,
    142080,
    144640,
    147200,
    149760,
    152320,
    154880,
    157440,
    160000,
    162560,
    165120,
    167680,
    170240,
    172800,
    175360,
    177920,
    180480,
    183040,
    185600,
    188160,
    190720,
    193280,
    195840];
var miningXp = [100,
    105,
    110,
    115,
    120,
    125,
    130,
    136,
    142,
    148,
    154,
    160,
    167,
    174,
    181,
    188,
    196,
    204,
    212,
    220,
    229,
    238,
    247,
    256,
    266,
    276,
    286,
    297,
    308,
    319,
    331,
    343,
    355,
    368,
    381,
    394,
    408,
    422,
    436,
    451,
    466,
    481,
    497,
    513,
    529,
    546,
    563,
    580,
    598,
    616,
    634,
    653,
    672,
    691,
    711,
    731,
    752,
    773,
    794,
    816,
    838,
    860,
    883,
    906,
    930,
    954,
    978,
    1003,
    1028,
    1053,
    1079,
    1105,
    1131,
    1158,
    1185,
    1212,
    1239,
    1267,
    1295,
    1323,
    1352,
    1381,
    1410,
    1439,
    1469,
    1499,
    1529,
    1559,
    1590,
    1621,
    1652,
    1683,
    1715,
    1747,
    1779,
    1811,
    1844,
    1877,
    1910,
    1943,
    1976,
    2009,
    2043,
    2077,
    2111,
    2145,
    2179,
    2213,
    2247,
    2281,
    2315,
    2350,
    2385,
    2420,
    2455,
    2490,
    2525,
    2560,
    2595,
    2630,
    2665,
    2700,
    2735,
    2770,
    2805,
    2840,
    2875,
    2910,
    2945,
    2980,
    3015,
    3050,
    3085,
    3119,
    3153,
    3187,
    3221,
    3255,
    3289,
    3323,
    3356,
    3389,
    3422,
    3455,
    3488,
    3520,
    3552,
    3584,
    3616,
    3648,
    3680,
    3711,
    3742,
    3773,
    3804,
    3834,
    3864,
    3894,
    3924,
    3954,
    3983,
    4012,
    4041,
    4070,
    4098,
    4126,
    4154,
    4182,
    4210,
    4237,
    4264,
    4291,
    4318,
    4344,
    4370,
    4396,
    4422,
    4447,
    4472,
    4497,
    4521,
    4545,
    4569,
    4592,
    4615,
    4638,
    4661,
    4683,
    4705,
    4727,
    4748,
    4769,
    4790,
    4811,
    4831,
    4851,
    4871,
    4891,
    4910,
    4929]

$('document').ready(function() {
    $('.gives-results').on('change', function() {
        var xpTable = getXpTable($('body').data('xp-table'));
        var currentLevelXp = parseInt($('#currentLevelXp').val());
        var currentLevel = parseInt($('#currentLevel').val());
        var targetLevel = parseInt($('#targetLevel').val());

        if (isNaN(currentLevelXp) || isNaN(currentLevel) || isNaN(targetLevel) || targetLevel <= currentLevel)
        {
            $('#success-message').hide();
            $('#error-message').show();
        }
        else {
            var total = currentLevelXp;
            for (var i=currentLevel+1; i<=targetLevel; ++i) {
                total += xpTable[i];
            }
            
            $('#totalXpRequired').text(total);
            $('#success-message').show();
            $('#error-message').hide();
        }
    });
});

function getXpTable(key) {
    switch (key) {
        case "furnishing": return furnishingXp;
        case "mining": return miningXp;
    }
    return null;
}